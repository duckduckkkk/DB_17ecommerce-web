{% extends "frontstage.html" %}
{% block head %}
{{ super() }}
<style>
  /* æ•´é«”èƒŒæ™¯èˆ‡å­—é«” */
  body {
    background-color: #f8fafc;
    font-family: "Noto Sans TC", sans-serif;
  }

  /* å¡ç‰‡æ¨£å¼ */
  .order-card {
    background: #ffffff;
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    padding: 20px 25px;
    margin-bottom: 20px;
    transition: all 0.3s ease-in-out;
  }

  .order-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
  }

  .order-header {
    font-weight: 700;
    color: #1f5281;
    margin-bottom: 10px;
  }

  .order-info {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    font-size: 0.95rem;
    margin-bottom: 15px;
  }

  .order-info div {
    margin: 4px 0;
  }

  /* ç¶ è‰²é‹é€æ¨™ç±¤ */
  .badge-green {
    background: linear-gradient(90deg, #19a764, #3cd37a);
    color: white;
    font-weight: 600;
    padding: 5px 12px;
    border-radius: 10px;
  }

  /* æŒ‰éˆ•æ¨£å¼ */
  .btn-detail {
    background-color: white;
    border: 2px solid #1f5281;
    color: #1f5281;
    border-radius: 10px;
    padding: 8px 16px;
    font-weight: 500;
    transition: all 0.3s ease;
  }

  .btn-detail:hover {
    background-color: #1f5281;
    color: white;
    transform: scale(1.05);
  }

  /* Modal æ¨£å¼ */
  .modal-content {
    border-radius: 15px;
    box-shadow: 0 5px 25px rgba(0,0,0,0.2);
  }

  .modal-header {
    background: linear-gradient(90deg, #1f5281, #19a764);
    color: white;
    border-top-left-radius: 15px;
    border-top-right-radius: 15px;
  }

  .modal-footer button {
    border-radius: 10px;
    border: 2px solid #19a764;
    color: #19a764;
    background-color: white;
    transition: 0.3s;
  }

  .modal-footer button:hover {
    background-color: #19a764;
    color: white;
  }

  /* è¡¨æ ¼å…§éƒ¨ */
  .table {
    background-color: #ffffff;
    border-radius: 10px;
    overflow: hidden;
  }

  .table th {
    background-color: #e9f5ef;
    color: #1f5281;
  }

  .table td, .table th {
    text-align: center;
    vertical-align: middle;
  }

</style>
{% endblock head %}

{% block title %}BookStore{% endblock title%}

{% block content %}

<!-- ====== Modal å€å¡Š ====== -->
{% for i in data %}
<div class="modal fade" id="staticBackdrop{{i.è¨‚å–®ç·¨è™Ÿ}}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">è¨‚å–®ç´°é … #{{ i.è¨‚å–®ç·¨è™Ÿ }}</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <table class="table table-bordered align-middle">
          <thead>
            <tr>
              <th>å•†å“åç¨±</th>
              <th>å•†å“å–®åƒ¹</th>
              <th>è¨‚è³¼æ•¸é‡</th>
            </tr>
          </thead>
          <tbody>
            {% for j in detail %}
            {% if j.è¨‚å–®ç·¨è™Ÿ == i.è¨‚å–®ç·¨è™Ÿ %}
            <tr>
              <td>{{ j.å•†å“åç¨± }}</td>
              <td>${{ j.å•†å“å–®åƒ¹ }}</td>
              <td>{{ j.è¨‚è³¼æ•¸é‡ }}</td>
            </tr>
            {% endif %}
            {% endfor %}
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn" data-bs-dismiss="modal">å›è¨‚å–®</button>
      </div>
    </div>
  </div>
</div>
{% endfor %}

<!-- ====== è¨‚å–®æ¢åˆ—å¡ç‰‡ ====== -->
<div class="container-xl mt-4">
  <form method="post" action="{{ url_for('bookstore.orderlist') }}">
    {% for i in data %}
    <div class="order-card">
      <div class="order-header">è¨‚å–®ç·¨è™Ÿï¼š{{ i.è¨‚å–®ç·¨è™Ÿ }}</div>
      <div class="order-info">
        <div>ğŸ’° è¨‚å–®ç¸½åƒ¹ï¼š<b>${{ i.è¨‚å–®ç¸½åƒ¹ }}</b></div>
        <div>ğŸ•’ è¨‚å–®æ™‚é–“ï¼š{{ i.è¨‚å–®æ™‚é–“ }}</div>
        <div>ğŸšš ç¶ è‰²é‹é€ï¼š
          {% if i.ç¶ è‰²é‹é€ == 'Y' %}
          <span class="badge-green">YES</span>
          {% else %}
          <span class="text-secondary">NO</span>
          {% endif %}
        </div>
      </div>
      <div class="text-end">
        <button type="button" class="btn btn-detail" data-bs-toggle="modal" data-bs-target="#staticBackdrop{{i.è¨‚å–®ç·¨è™Ÿ}}">
          æŸ¥çœ‹è¨‚å–®ç´°é …
        </button>
      </div>
    </div>
    {% endfor %}
  </form>
</div>

{% endblock content %}
